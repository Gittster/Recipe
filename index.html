<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Recipe Manager" />
  <meta property="og:description" content="Save, plan, and share your favorite recipes easily." />
  <meta property="og:url" content="https://gittster.github.io/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://gittster.github.io/preview.png" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Recipe Manager" />
  <meta name="twitter:description" content="Save, plan, and share your favorite recipes easily." />
  <meta name="twitter:image" content="https://gittster.github.io/preview.png" />

  <title>Recipe Picker</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="style.css" rel="stylesheet" />
</head>
<body>

  <div class="d-flex flex-column vh-100">
      <div id="menuBar" class="fixed-menu p-2">
        <div class="d-flex justify-content-around align-items-center">
        <button class="btn btn-outline-primary" onclick="showRecipeFilter()">Recipes</button>
        <button class="btn btn-outline-info" onclick="viewHistory()">History</button>
        <button class="btn btn-outline-success" onclick="showPlanning()">Planning</button>
        <button class="btn btn-outline-secondary" onclick="showPantryView()">Pantry</button> 
        <button class="btn btn-outline-warning" onclick="showChatbotModal()">Chef Bot <i class="bi bi-robot"></i></button>
        <div id="userAuthArea" class="d-flex align-items-center justify-content-end p-2"></div>
      </div>
    </div>

    <!-- Main Viewport -->
    <div id="mainView" class="flex-grow-1 bg-light p-3"> </div>
      <div id="addRecipeContainer" style="display: none;" class="p-3">
        <!-- Add Recipe Form and OCR results will go here -->
      </div>
  </div>
</div>

<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 380px;">
        <div class="modal-content">
            <div class="modal-header border-0 pb-0"> <h5 class="modal-title w-100 text-center" id="loginModalLabel" style="font-size: 1.5rem; font-weight: 600;">
                    Sign in or create account </h5>
                <button type="button" class="btn-close position-absolute top-0 end-0 mt-2 me-2" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body pt-2"> <div id="initialLoginOptionsView">
                    <div class="mb-3 mt-3"> <label for="loginEmailInput" class="form-label visually-hidden">Email address</label>
                        <input type="email" class="form-control form-control-lg" id="loginEmailInput" placeholder="Email address">
                    </div>
                    <button type="button" class="btn btn-success btn-lg w-100 mb-3" onclick="handleEmailContinue()">Continue</button>
                    
                    <div class="or-divider my-4"> <hr>
                        <span class="mx-2 text-muted small">OR</span>
                        <hr>
                    </div>

                    <button type="button" class="btn btn-outline-secondary w-100 mb-2 d-flex align-items-center justify-content-center" onclick="signInWithGoogle()">
                        <i class="bi bi-google me-2"></i> Continue with Google
                    </button>
                    <p class="text-center small mt-4 mb-3"> Don't have an account? <a href="#" onclick="switchToSignUpView()">Sign up</a>
                    </p>
                    </div>

                <div id="passwordLoginView" style="display: none;">
                    <h5 class="text-center mb-3 mt-3" id="passwordLoginTitle">Log In</h5> <div class="mb-3">
                        <label for="emailForPasswordLogin" class="form-label">Email address</label>
                        <input type="email" class="form-control" id="emailForPasswordLogin" placeholder="you@example.com" readonly> </div>
                    <div class="mb-3">
                        <label for="passwordForLogin" class="form-label">Password</label>
                        <input type="password" class="form-control" id="passwordForLogin" placeholder="Your password">
                        <div class="text-end mt-1"><a href="#" onclick="handleForgotPassword(document.getElementById('emailForPasswordLogin').value)" class="small">Forgot password?</a></div>
                    </div>
                    <div id="loginErrorMessage" class="alert alert-danger my-3" style="display: none;"></div> <button type="button" class="btn btn-primary w-100 mb-3" onclick="performEmailPasswordLogin()">Log In</button>
                    <p class="text-center small">
                        <a href="#" onclick="switchToInitialOptionsView()">See other sign-in options</a>
                    </p>
                </div>

                <div id="signUpView" style="display: none;">
                     <div class="mb-3 mt-4">
                        <label for="emailForSignUp" class="form-label">Email address</label>
                        <input type="email" class="form-control" id="emailForSignUp" placeholder="you@example.com">
                    </div>
                    <div class="mb-3">
                        <label for="passwordForSignUp" class="form-label">Password</label>
                        <input type="password" class="form-control" id="passwordForSignUp" placeholder="Create a password (min. 6 characters)">
                    </div>
                    <div class="mb-3">
                        <label for="confirmPasswordForSignUp" class="form-label">Confirm Password</label>
                        <input type="password" class="form-control" id="confirmPasswordForSignUp" placeholder="Confirm your password">
                    </div>
                    <div id="signUpErrorMessage" class="alert alert-danger my-3" style="display: none;"></div> <button type="button" class="btn btn-primary w-100 mb-3" onclick="performEmailPasswordSignUp()">Sign Up</button>
                    <p class="text-center small">
                        Already have an account? <a href="#" onclick="switchToPasswordLoginView(document.getElementById('emailForSignUp').value)">Log In</a>
                    </p>
                </div>

            </div>
            <div class="modal-footer justify-content-center border-0 pt-0"> <a href="#" class="small text-muted">Terms of Use</a>
                <span class="text-muted mx-1">|</span>
                <a href="#" class="small text-muted">Privacy Policy</a>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="infoConfirmModal" tabindex="-1" aria-labelledby="infoConfirmModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="infoConfirmModalLabel">Notification</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="infoConfirmModalBody">
                </div>
            <div class="modal-footer" id="infoConfirmModalFooter">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>

  <canvas id="preprocessCanvas" style="display:none;"></canvas>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>


<script>
const firebaseConfig = {
  apiKey: "AIzaSyANa4czfXyPd_wSWyzN6YigJGsD-f2qCpw",
  authDomain: "recipes-b5658.firebaseapp.com",
  projectId: "recipes-b5658",
  storageBucket: "recipes-b5658.firebasestorage.app",
  messagingSenderId: "167974148706",
  appId: "1:167974148706:web:a4150201c000a551220f3b"
};

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
</script>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@zxing/library@0.21.3/umd/index.min.js"></script>
<script src="js/libs/dexie.js"></script>
<script src="script.js"></script>
</body>
</html>
